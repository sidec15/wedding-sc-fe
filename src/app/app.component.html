<header class="navbar" [class.hidden]="isHeaderHidden">
  <a class="logo" routerLink="/">Chiara & Simone</a>

  <!-- Hamburger icon (visible only on small screens) -->
  <button class="menu-toggle" (click)="toggleMenu()">
    <i [class]="isMenuOpen ? 'fas fa-times' : 'fas fa-bars'"></i>
  </button>

  <!-- Navigation links -->
  <ul class="nav-links" [class.open]="isMenuOpen" id="main-navigation">
    <li>
      <a routerLink="/" (click)="closeMenu()">{{ "nav.home" | translate }}</a>
    </li>
    <li>
      <a routerLink="/our-story" (click)="closeMenu()">{{
        "nav.our_story" | translate
        }}</a>
    </li>
    <li>
      <a routerLink="/church" (click)="closeMenu()">{{
        "nav.church" | translate
        }}</a>
    </li>
    <li>
      <a routerLink="/reception" (click)="closeMenu()">{{
        "nav.reception" | translate
        }}</a>
    </li>
    <li>
      <a routerLink="/confirm" (click)="closeMenu()">{{
        "nav.confirm" | translate
        }}</a>
    </li>
    <li>
      <a routerLink="/contact" (click)="closeMenu()">{{
        "nav.contact" | translate
        }}</a>
    </li>

    <!-- Language Selector -->
    <li>
      <div class="custom-language-selector" #languageDropdown (click)="toggleLanguageDropdown()"
        [class.open]="languageDropdownOpen">
        <span>{{ currentLanguage === "it" ? "Italiano" : "English" }}</span>
        <ul *ngIf="languageDropdownOpen" class="language-options" (click)="$event.stopPropagation()">
          <li (click)="selectLanguage('it')">Italiano</li>
          <li (click)="selectLanguage('en')">English</li>
        </ul>
      </div>
    </li>

    <!-- Theme Switcher -->
    <li>
      <div class="custom-theme-selector" #themeDropdown (click)="toggleThemeDropdown()"
        [class.open]="themeDropdownOpen">
        <span>
          <i [ngClass]="{
              fa: true,
              'fa-sun': currentTheme === Theme.Light,
              'fa-moon': currentTheme === Theme.Dark,
              'fa-adjust': currentTheme === Theme.System
            }" aria-hidden="true"></i>
        </span>

        <ul *ngIf="themeDropdownOpen" class="theme-options" (click)="$event.stopPropagation()">
          <li (click)="selectTheme(Theme.Light)">
            <i class="fa fa-sun"></i>
            <span>{{ "nav.theme.light" | translate }}</span>
          </li>
          <li (click)="selectTheme(Theme.Dark)">
            <i class="fa fa-moon"></i>
            <span>{{ "nav.theme.dark" | translate }}</span>
          </li>
          <li (click)="selectTheme(Theme.System)">
            <i class="fa fa-adjust"></i>
            <span>{{ "nav.theme.system" | translate }}</span>
          </li>
        </ul>
      </div>
    </li>
  </ul>

</header>

<!-- Fullscreen overlay for reveal effect -->
<div class="reveal-overlay"></div>

<main>
  <router-outlet></router-outlet>
</main>

<footer class="footer">
  <p>{{ "footer.copyright" | translate : { year: currentYear } }}</p>
</footer>