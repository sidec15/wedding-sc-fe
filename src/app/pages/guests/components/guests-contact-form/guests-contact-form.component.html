<section class="contact-form">
  <div class="success-message" *ngIf="showSuccess">
    {{ "guests.contact_form.success_message" | translate }}
  </div>
  <h2>{{ "guests.contact_form.title" | translate }}</h2>
  <p>{{ "guests.contact_form.description" | translate }}</p>

  <form
    class="contact-form-container"
    [formGroup]="contactForm"
    (ngSubmit)="onSubmit()"
  >
    <!-- Honeypot field -->
    <div class="hidden">
      <input type="text" formControlName="website" autocomplete="off" />
    </div>

    <div class="form-group">
      <label for="name">{{ "guests.contact_form.name" | translate }}</label>
      <input type="text" id="name" formControlName="name" />
    </div>

    <div class="form-group">
      <label for="surname">{{
        "guests.contact_form.surname" | translate
      }}</label>
      <input type="text" id="surname" formControlName="surname" />
    </div>

    <div class="form-group">
      <label for="phone">{{ "guests.contact_form.phone" | translate }}</label>
      <input type="tel" id="phone" formControlName="phone" />
    </div>

    <div class="form-group">
      <label for="email">{{ "guests.contact_form.email" | translate }} *</label>
      <input type="email" id="email" formControlName="email" required />
      <div
        class="error"
        *ngIf="contactForm.get('email')?.errors?.['required'] && submitted"
      >
        {{ "guests.contact_form.email_required" | translate }}
      </div>
      <div
        class="error"
        *ngIf="contactForm.get('email')?.errors?.['email'] && submitted"
      >
        {{ "guests.contact_form.email_invalid" | translate }}
      </div>
    </div>

    <div class="form-group">
      <label for="message"
        >{{ "guests.contact_form.message" | translate }} *</label
      >
      <textarea
        id="message"
        formControlName="message"
        rows="5"
        required
      ></textarea>
      <div class="char-count">
        {{ contactForm.get("message")?.value?.length || 0 }}/{{
          maxMessageLength
        }}
      </div>
      <div
        class="error"
        *ngIf="contactForm.get('message')?.errors?.['required'] && submitted"
      >
        {{ "guests.contact_form.message_required" | translate }}
      </div>
    </div>

    <div class="form-group checkbox">
      <input type="checkbox" id="privacy" formControlName="privacyConsent" />
      <label for="privacy" class="privacy-consent-label">
        {{ "guests.contact_form.privacy_consent" | translate }}
        <a href="/privacy-policy" target="_blank">{{
          "guests.contact_form.privacy_policy" | translate
        }}</a>
      </label>
      <div
        class="error"
        *ngIf="contactForm.get('privacyConsent')?.errors?.['required'] && submitted"
      >
        {{ "guests.contact_form.privacy_required" | translate }}
      </div>
    </div>

    <button type="submit" [disabled]="submitted">
      {{ "guests.contact_form.submit" | translate }}
    </button>
  </form>
</section>
