<div class="form-group" [formGroup]="form">
  @if (showCaptcha) {
    <re-captcha
      [siteKey]="siteKey"
      [theme]="recaptchaTheme"
      [formControlName]="captchaControlName"
      (resolved)="onCaptchaResolved($event)"
      (error)="onCaptchaError()"
    ></re-captcha>
  }

  @if (form.get(captchaControlName)?.errors?.['required'] && submitted) {
    <div class="error">
      {{ "security.captcha_required" | translate }}
    </div>
  }
</div>

<div class="form-group checkbox" [formGroup]="form">
  <input
    type="checkbox"
    [id]="privacyControlName"
    [formControlName]="privacyControlName"
  />
  <label [for]="privacyControlName" class="privacy-consent-label">
    {{ "security.privacy_consent" | translate }}
    <a [href]="privacyPolicyHref" target="_blank" rel="noopener noreferrer">
      {{ "security.privacy_policy" | translate }}
    </a>
  </label>

  @if (form.get(privacyControlName)?.errors?.['required'] && submitted) {
    <div class="error">
      {{ "security.privacy_required" | translate }}
    </div>
  }
</div>
