<div
  class="rte-wrapper"
  [class.error]="error"
  [class.toolbar-open]="toolbarOpen"
  (focusout)="markTouched()"
>
  <div class="rte-toolbar">
    <!-- Collapse/Expand (mobile only via CSS) -->
    <button
      type="button"
      class="toolbar-toggle"
      (click)="toolbarOpen = !toolbarOpen"
      [attr.aria-expanded]="toolbarOpen"
      aria-controls="ngx-toolbar"
    >
      <span class="label">{{
        toolbarOpen
          ? ("rich_text_editor.hide" | translate)
          : ("rich_text_editor.more" | translate)
      }}</span>
      <span class="icon">â‹¯</span>
    </button>

    <!-- Real toolbar -->
    <ngx-editor-menu
      id="ngx-toolbar"
      [editor]="editor"
      [toolbar]="toolbar"
      class="ngx-toolbar"
    ></ngx-editor-menu>

    <!-- Emoji stays available even when collapsed -->
    <button
      *ngIf="emojiEnabled"
      type="button"
      class="emoji-btn"
      (click)="showEmoji = !showEmoji"
      [attr.aria-label]="'rich_text_editor.open_emoji' | translate"
    >
      ðŸ˜Š
    </button>
  </div>

  <emoji-mart
    *ngIf="emojiEnabled && showEmoji"
    (emojiSelect)="insertEmoji($event)"
    title="Emoji"
    emoji="point_up"
    set="apple"
  ></emoji-mart>

  <ngx-editor
    class="editor-content"
    [editor]="editor"
    [placeholder]="placeholder"
    [formControl]="control"
  ></ngx-editor>
</div>
